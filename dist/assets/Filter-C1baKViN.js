import{u as R,r as v,j as e,R as y}from"./index-BEC76kfp.js";import{a as B}from"./ApartmentLoading-CRSs7v80.js";import{u as A}from"./useTranslation-C9XIQPR0.js";import{A as j}from"./apiManager-C9zzvDLR.js";const X=r=>{const p=R(),{t:h,i18n:f}=A(),[n]=v.useState(!r.flag),[s]=v.useState(r.flat),a=()=>{p(`/ApartmentDetails/${s.id}`,{state:s})};return e.jsx(y.Fragment,{children:e.jsx("div",{className:`col-xl-5 w-sm-90  p-0 mb-3  rounded-4 overflow-hidden m-auto shadow Apartment ${n?"bg-primColor":"bg-whiteToBlack"}`,children:e.jsx("div",{className:"overflow-hidden",children:e.jsxs("div",{className:"row position-relative ",children:[e.jsx("div",{className:"col-md-5 ApartmentImage ApartmentSlider ",style:{Height:document.querySelectorAll(".ApartmentDesc").clientHeight,maxHeight:"500px"},children:e.jsx(B,{flatImages:s.pictures,functionOnClickImage:a},s.id)}),e.jsx("div",{className:`col-md-7 fs-3 fw-bolder ApartmentDesc ${n?"text-white":"text-primColor"}`,children:e.jsxs("div",{className:"fs-3 px-3 fw-bolder w-100",children:[e.jsxs("p",{className:"py-2 fs-5",children:[s.title.slice(0,25).length<s.title.length?s.title.slice(0,25)+"....":s.title," "]}),e.jsx("p",{className:"py-2 ApartmentAddress fs-6",children:s.governorate+"- "+s.area+"- "+s.region}),e.jsxs("div",{className:`text-black fs-4 p-4 ${n?"text-white":"text-blackToWhite"}`,children:[e.jsxs("p",{id:"Price",children:[h("Apart Price"),e.jsxs("span",{className:"fw-normal",children:[" ",s.price," "]})]}),e.jsx("div",{className:"w-100 d-flex justify-content-end text-center",children:e.jsx("button",{onClick:a,className:` sButton   ms-md-auto m-smalldevice-auto    ${n?"sButtonWhite":"sButtonGreen"} `,children:h("Apart Button")})})]})]})}),e.jsx("div",{className:`data position-absolute fw-bolder z-1 top-0 ${f.language=="ar"?"end-0 me-3":"start-0 ms-3"} mt-2 rounded   ${n?"bg-white  text-primColor":"bg-primColor text-white"} `,style:{width:"fit-content",fontSize:"11px"},children:e.jsxs("p",{id:"date",className:"mb-0 ",children:[h("Apart Post")," ",e.jsxs("span",{className:"",children:[" ",s.createdAt," "]})]})})]})})})})},D="_filterDivHide_1a6z8_1",C="_filterDivShow_1a6z8_19",F="_show_1a6z8_37",I="_showFilter_1a6z8_1",z="_showRtl_1a6z8_47",H="_showFilterRtl_1a6z8_1",L="_hide_1a6z8_61",E="_hideFilter_1a6z8_1",T="_hideRtl_1a6z8_69",k="_hideFilterRtl_1a6z8_1",G="_filterButton_1a6z8_81",$="_closebutton_1a6z8_95",o={filterDivHide:D,filterDivShow:C,show:F,showFilter:I,showRtl:z,showFilterRtl:H,hide:L,hideFilter:E,hideRtl:T,hideFilterRtl:k,filterButton:G,closebutton:$};const q="_borderBottomSelect_1gxtl_1",x={borderBottomSelect:q};function P({t:r,i18n:p,handleOnChangeSelector:h}){const f=t=>{t.preventDefault(),S(),_(),h("","",t.target.value),t.target.value!=""?(j.getAreasOfGov(t.target.value).then(l=>{b(l)}),u()):(m(),u())},n=t=>{t.preventDefault(),_(),h("",t.target.value),j.getRegionsOfArea(t.target.value).then(l=>{l.code!=401?w(l):u()})},s=t=>{t.preventDefault(),h(t.target.value)};function a(t){let l=document.createElement("option");return l.value="",l.selected=!0,l.innerHTML=t,l}const S=()=>{const t=document.querySelector("#selectorAreas");for(;t.firstChild;)t.removeChild(t.firstChild)},_=()=>{const t=document.querySelector("#selectorRegions");for(;t.firstChild;)t.removeChild(t.firstChild)},b=t=>{let l=t,c=document.querySelector("#selectorAreas"),g=a(r("Area Selc"));c.append(g),c.style.display="block",l.forEach(i=>{let d=document.createElement("option");d.value=i.id,d.innerHTML=i[p.language=="en"?"name":"arName"],c.appendChild(d)})},w=t=>{let l=t,c=document.querySelector("#selectorRegions"),g=a(r("Region Selc"));c.append(g),c.style.display="block",l==null||l.forEach(i=>{let d=document.createElement("option");d.value=i.id,d.innerHTML=i[p.language=="en"?"name":"arName"],c.appendChild(d)})},u=()=>{let t=document.querySelector("#selectorRegions"),l=a(r("Region Selc"));t.append(l)},m=()=>{let t=document.querySelector("#selectorAreas"),l=a(r("Area Selc"));t.append(l)};return e.jsxs("div",{className:"w-100",children:[e.jsx("div",{className:"py-1 rounded-3  "+x.borderBottomSelect,children:e.jsxs("select",{onChange:f,onKeyDown:f,name:"govId",className:"form-select-Amoor fw-bold  mt-3 px-3 py-2 rounded-5 "+x.borderBottomSelect,id:"selectorGovs",children:[e.jsx("option",{value:"",selected:!0,children:r("Gov Selc")}),e.jsx("option",{value:"6",children:r("Cairo")}),e.jsx("option",{value:"11",children:r("Giza")})]})}),e.jsx("div",{className:"py-1 rounded-3 "+x.borderBottomSelect,children:e.jsx("select",{onChange:n,onKeyDown:n,name:"areaId",className:"form-select-Amoor mt-3  px-3 py-2 rounded-5  "+x.borderBottomSelect,id:"selectorAreas",children:e.jsx("option",{value:"",selected:!0,disabled:!0,children:r("Area Selc")})})}),e.jsx("div",{className:"py-1 rounded-3 "+x.borderBottomSelect,children:e.jsx("select",{onChange:s,name:"regionId",className:"form-select-Amoor mt-3 px-3 py-2 rounded-5  "+x.borderBottomSelect,id:"selectorRegions",children:e.jsx("option",{value:"",selected:!0,disabled:!0,children:r("Region Selc")})})})]})}function J({getAllApartments:r,setResponse:p,loading:h,response:f,setLoading:n}){const[s,a]=v.useState({govId:"",areaId:"",regionId:""});v.useState({min:0,max:1e4});const S=(i,d=s.areaId,N=s.govId)=>{a({govId:N,areaId:d,regionId:i})},_=i=>{i.preventDefault(),n(!0),p({...f,...s,pageIndex:1,data:[]}),r(1,!0,s.govId,s.areaId,s.regionId)},[b,w]=v.useState(!1),{t:u,i18n:m}=A();let t,l;v.useEffect(()=>{t=document.getElementById("filterDiv"),l=document.getElementById("filterButton")});const c=i=>{t.classList.add(m.language=="en"?o.show:o.showRtl),setTimeout(()=>{t.classList.add(o.filterDivShow),t.classList.remove(o.filterDivHide),t.classList.remove(m.language=="en"?o.show:o.showRtl)},500),w(!0),l.style.display="none"},g=()=>{t.classList.add(m.language=="en"?o.hide:o.hideRtl),setTimeout(()=>{t.classList.add(o.filterDivHide),t.classList.remove(o.filterDivShow),t.classList.remove(m.language=="en"?o.hide:o.hideRtl)},500),w(!1)};return e.jsx(y.Fragment,{children:e.jsxs("div",{className:"position-fixed top-0 bottom-0 d-flex align-items-center  vh-100 ",style:{zIndex:"999"},children:[e.jsx("div",{className:" rounded-4 py-3 p-1 align-items-center mb-5  "+o.filterDivHide,id:"filterDiv",style:{width:"300px"},children:e.jsxs("div",{className:"bg-white shadow py-5 w-100 rounded-5 d-flex flex-column justify-content-center align-items-center px-2 position-relative",children:[e.jsx("button",{type:"button",onClick:()=>{g(),setTimeout(()=>{l.style.display="block"},500)},className:" rounded-circle p-2 m-3 border-0 position-absolute top-0  "+(m.language=="en"?"end-0 ":"start-0 ")+o.closebutton,style:{width:"50px",height:"50px",fontWeight:"bolder",fontSize:"24px"},children:"X"}),e.jsx("h3",{className:"Filter text-primColor fw-bolder",children:u("Filter")}),e.jsxs("form",{action:" ",className:"w-100 px-3 d-flex flex-column",onSubmit:i=>_(i),children:[e.jsx(P,{t:u,i18n:m,handleOnChangeSelector:S}),e.jsx("button",{type:"submit",className:"sButton sButtonGreen ",children:u("Search")})]})]})}),e.jsx("div",{className:" h-100 d-flex align-items-center",children:e.jsx("button",{type:"button",id:"filterButton",onClick:i=>b?g():c(),className:" sButton sButtonGreen rounded-circle p-2 border-0 shadow  "+o.filterButton,style:{width:"75px",height:"75px",fontWeight:"bolder",fontSize:"32px"},children:e.jsx("i",{className:"fa-solid fa-bars-staggered"})})})]})})}export{X as A,J as F};
